Edit .bashrc

# For virtualenvwrapper
export WORKON_HOME=~/.virtualenvs
VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
. /usr/local/bin/virtualenvwrapper.sh
export PIP_VIRTUALENV_BASE=$WORKON_HOME
export PIP_RESPECT_VIRTUALENV=true

Then ...
mkvirtualenv kanban
mkvirtualenv staging
mkvirtualenv test

cd
git clone git@github.com:kgoldov/ttcentralops.git

# link /etc/supervisor files to ttcentralops repo
cd /etc/supervisor/conf.d
ln -s /home/ubuntu/ttcentralops/server/supervisor/conf.d/kanban-* .

# link /etc/nginx files to ttcentralops repo
cd /etc/nginx/sites-available
ln -s /home/ubuntu/ttcentralops/server/nginx/sites-available/* .
cd /etc/nginx/sites-enabled
ln -s ../sites-available/prod.conf .

git clone git@github.com:kgoldov/kanban.git

# copy settings_local.py

# as postgres user
createdb ttcentral

psql
alter user <username> with encrypted password '<password>';
alter user ttcentral createdb;

mkvirtualenv kanban
echo "export  ENVIRONMENT=prod
export DJANGO_SETTINGS_MODULE=kanban.settings.staging" >> ~/.virtualenvs/kanban/bin/postactivate

mkvirtualenv test
echo "export  ENVIRONMENT=test
      export DJANGO_SETTINGS_MODULE=kanban.settings.test" >> ~/.virtualenvs/test/bin/postactivate
echo "unset ENVIRONMENT
      unset DJANGO_SETTINGS_MODULE" >> ~/.virtualenvs/test/bin/predeactivate

sudo bash
mkdir /var/log/ttcentral
chgrp ubuntu /var/log/ttcentral
chmod g+ws /var/log/ttcentral
exit # (from root)
cd /var/log/ttcentral
mkdir test prod staging

# Install letsencrypt
# https://www.nginx.com/blog/using-free-ssltls-certificates-from-lets-encrypt-with-nginx/

